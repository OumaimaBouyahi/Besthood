<section class="content container">
  <div class="row page-header">
    <div class="col-lg-6" >
      <h1>{{vm.community._id ? 'Edit Community' : 'New Community'}}</h1>
    </div>
    <div class="col-sm-3 col-md-3 pull-right">
      <form class="navbar-form" role="search">
        <div class="input-group">
          <input type="text" class="form-control" ng-model="q" placeholder="Search" name="q">
          <div class="input-group-btn">
            <button class="btn btn-default" ng-click="findWeather(q)" type="submit"><i class="glyphicon glyphicon-search"></i></button>
          </div>
        </div>
      </form>
    </div>

  </div>

  <div class="col-md-6">

    <form name="vm.form.communityForm" class="form-horizontal" ng-submit="vm.save(vm.form.communityForm.$valid)" novalidate>
      <fieldset>
        <div class="form-group" show-errors>
          <label class="control-label" for="city">City</label>
          <input name="city" type="text" data-ng-model="vm.community.city"  id="city" class="form-control" placeholder="City" required>
          <div ng-messages="vm.form.communityForm.city.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Community City is required.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label class="control-label" for="country">Country</label>
          <input name="country" type="text" data-ng-model="vm.community.country"  id="country" class="form-control" placeholder="country" required>
          <div ng-messages="vm.form.communityForm.country.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Community country is required.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label class="control-label" for="country">Latitude</label>
          <input name="country" type="text" data-ng-model="vm.community.lat"  id="lat" class="form-control" placeholder="latitude" required>
          <div ng-messages="vm.form.communityForm.lat.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Community Latitude is required.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label class="control-label" for="country">Longitude</label>
          <input name="country" type="text" data-ng-model="vm.community.lon"  id="lon" class="form-control" placeholder="longitude" required>
          <div ng-messages="vm.form.communityForm.lon.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Community Latitude is required.</p>
          </div>
        </div>
        <div class="form-group">
          <button type="submit"  class="btn btn-default">{{vm.community._id ? 'Update' : 'Create'}}</button>
          <div class="btn btn-default btn-link pull-right"><a href="{{ vm.community.link }}">More ...</a></div>
        </div>
        <div ng-show="vm.error" class="text-danger">
          <strong ng-bind="vm.error"></strong>
        </div>
      </fieldset>
    </form>
  </div>
  <div class="col-lg-6">
    <ng-map center="[{{vm.community.lat}},{{vm.community.lon}}]" zoom="18">
      <marker position="[{{vm.community.lat}},{{vm.community.lon}}]" title="{{vm.community.city}}" visible="true"></marker>
      <shape
        name="circle"
        radius="50"
        center="[{{vm.community.lat}}, {{vm.community.lon}}]"
        stroke-opacity="1"
        fill-color="red"
      />
      <control name="overviewMap" opened="true" />
    </ng-map>
  </div>
</section>
